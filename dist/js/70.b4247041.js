"use strict";(self["webpackChunkprojekt_naslovna"]=self["webpackChunkprojekt_naslovna"]||[]).push([[70],{2185:function(t,e,a){a.r(e),a.d(e,{default:function(){return y}});var s=a(4562),r=a(9582),i=a(4886),n=a(266),l=a(2118),o=a(4061),c=a(5495),u=a(1713),d=a(7423),p=a(9258),m=a(3687),f=a(9780),h=function(){var t=this,e=t._self._c;return t.user?e("div",{staticClass:"profile"},[e(l.Z,{staticStyle:{"margin-top":"-1%"},attrs:{fluid:""}},[e(d.Z,{attrs:{"min-height":"100vh",rounded:"lg"}},[e(u.Z,[e("div",{staticClass:"text-center",staticStyle:{"margin-top":"1%"}},[e("h1",[t._v("Moj profil")])])]),e(u.Z,[e(n.Z,{staticStyle:{"margin-left":"1%","margin-right":"1%"},attrs:{cols:"12",xl:"5",lg:"5",md:"9",sm:"9",xs:"9"}},[e(c.Z,{staticStyle:{"margin-top":"5%",border:"4px solid DodgerBlue","border-radius":"8%"},attrs:{height:"500",width:"470",src:this.slika}}),e("div",{staticClass:"d-flex justify-center mb-5",staticStyle:{"margin-left":"-10%"}},[e(o.Z,{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:r}){return[e(s.Z,t._g(t._b({staticStyle:{margin:"20px"},attrs:{color:"primary",dark:""}},"v-btn",r,!1),a),[t._v(" Ažuriraj profil ")])]}}],null,!1,1559374581),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r.Z,[e(i.EB,[e("span",{staticClass:"text-h5"},[t._v("Ažuriranje podataka o korisniku")])]),e(i.ZB,[e(l.Z,[e(u.Z,[e(n.Z,{attrs:{cols:"12",sm:"6"}},[e(f.Z,{attrs:{label:"Ime",required:""},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1),e(n.Z,{attrs:{cols:"12",sm:"6"}},[e(f.Z,{attrs:{label:"Prezime",required:""},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1),e(n.Z,{attrs:{cols:"12"}},[e(f.Z,{attrs:{label:"Email",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),e(n.Z,{attrs:{cols:"12",sm:"6"}},[e(f.Z,{attrs:{label:"Korisničko ime",required:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),e(n.Z,{attrs:{cols:"12",sm:"6"}},[e(f.Z,{attrs:{label:"Broj telefona",required:""},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1)],1)],1)],1),e(i.h7,[e(m.Z),e(s.Z,{attrs:{color:"red darken-2",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Zatvori ")]),e(s.Z,{attrs:{color:"light-green accent-4",text:""},on:{click:function(e){return t.updateProfile()}}},[t._v(" Spremi ")])],1)],1)],1)],1)],1),e(n.Z,{attrs:{cols:"12",xl:"6",lg:"6",md:"9",sm:"9",xs:"9"}},[e("div",{staticStyle:{"margin-top":"5%","margin-left":"1%","margin-right":"3%"}},[e(f.Z,{attrs:{value:this.profile.data.first_name,outlined:"",disabled:"","append-icon":"mdi-account"}}),e(f.Z,{attrs:{value:this.profile.data.last_name,outlined:"",disabled:"","append-icon":"mdi-account"}}),e(f.Z,{attrs:{value:this.profile.data.username,outlined:"",disabled:"","append-icon":"mdi-account-circle"}}),e(f.Z,{attrs:{value:this.profile.data.email,outlined:"",disabled:"","append-icon":"mdi-email"}}),e(f.Z,{attrs:{value:this.profile.data.phone,outlined:"",disabled:"","append-icon":"mdi-phone"}}),e(f.Z,{attrs:{value:this.profile.data.country_name,outlined:"",disabled:"","append-icon":"mdi-flag"}}),e(f.Z,{attrs:{value:this.profile.data.city_name,outlined:"",disabled:"","append-icon":"mdi-city"}})],1)])],1)],1)],1),e("div",{staticClass:"text-center ma-2"},[e(p.Z,{attrs:{color:"light-green accent-3"},scopedSlots:t._u([{key:"action",fn:function({attrs:a}){return[e(s.Z,t._b({attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Zatvori ")])]}}],null,!1,4216675534),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1),e("div",{staticClass:"text-center ma-2"},[e(p.Z,{attrs:{color:"red darken-2"},scopedSlots:t._u([{key:"action",fn:function({attrs:a}){return[e(s.Z,t._b({attrs:{color:"white",text:""},on:{click:function(e){t.snackbar2=!1}}},"v-btn",a,!1),[t._v(" Zatvori ")])]}}],null,!1,2000368380),model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(t.text2)+" ")])],1)],1):t._e()},b=[],k=a(3891),Z=a(629),v={name:"ProfileView",data:()=>({prefix_slike:"public/uploads/",slika:a(8939),profile:null,dialog:!1,snackbar:!1,snackbar2:!1,text:"Podatci su uspješno ažurirani!",text2:"Greška!"}),methods:{showProfile(){k.Z.get("api/auth/show-profile").then((t=>{200==t.status&&(this.profile=t.data)}))},updateProfile(){k.Z.put("api/auth/update-profile",{first_name:this.user.first_name,last_name:this.user.last_name,username:this.user.username,email:this.user.email,phone:this.user.phone}).then((t=>{this.getUser(),this.showProfile(),this.snackbar=!0})).catch((t=>{t.response&&422===t.response.status&&(this.snackbar2=!0)}))}},computed:{...(0,Z.rn)(["user"])},created(){console.log,this.$store.dispatch("getUser"),this.showProfile()}},_=v,g=a(1001),x=(0,g.Z)(_,h,b,!1,null,"7fdf49be",null),y=x.exports},8939:function(t,e,a){t.exports=a.p+"img/nema_slike.2782bffd.png"}}]);
//# sourceMappingURL=70.b4247041.js.map